@layer components {
  .email-ui {
    $email-ui: &;
    @apply w-full h-full flex gap-x-6 relative overflow-hidden;

    &-wrapper {
      @apply w-full relative overflow-hidden rounded-primary shadow bg-white dark:bg-slate-800;
    }

    &-container {
      @apply w-full;

      &-header {
        @apply border-b border-b-slate-200 divide-y divide-slate-200 dark:border-b-slate-600 dark:divide-slate-600;
      }

      &-body {
        height: calc(100vh - 19rem);
      }
    }
    
    &-sidebar {
      $sidebar: &;

      &-primary {
        @apply shrink-0 flex flex-col absolute top-0 bottom-0 z-20 invisible -translate-x-full transition-transform ease-in-out duration-300 bg-white h-full w-3/4 sm:w-64 2xl:w-72 xl:translate-x-0 xl:rounded-primary xl:relative xl:shadow xl:visible dark:bg-slate-800;
        
        &.show:not(.hiding),
        &.showing {
          transform: none;
        }

        &.hiding,
        &.show,
        &.showing {
          @apply visible;
        }

        #{$sidebar}-header {
          @apply py-3 px-6;
        }

        #{$sidebar}-body {
          height: calc(100vh - 20rem);
          @apply py-3 px-6;
        }

        #{$sidebar}-footer {
          @apply py-2 px-6 mt-auto border-t border-t-slate-200 dark:border-t-slate-600;
        }
      }
      
      &-secondary {
        @apply w-full absolute inset-0 z-20 invisible translate-x-full transition-transform ease-in-out duration-300 bg-slate-100 dark:bg-slate-700;

        &.show:not(.hiding),
        &.showing {
          @apply translate-x-0;
        }
  
        &.hiding,
        &.show,
        &.showing {
          @apply visible;
        }

        #{$sidebar}-header {
          @apply bg-white border-b divide-y border-b-slate-200 dark:bg-slate-800 divide-slate-200 dark:border-b-slate-600 dark:divide-slate-600;
        }

        #{$sidebar}-body {
          height: calc(100vh - 18rem);
          @apply p-4;
        }

        #{$sidebar}-footer {}
      }
    }

    &-filter {
      @apply space-y-2;

      &-item {
        @apply flex items-center justify-between rounded-primary px-4 py-3 text-sm cursor-pointer transition-colors duration-150 ease-in-out text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700;

        &.active {
          @apply bg-slate-100 dark:bg-slate-700;
        }
      }
    }

    &-mail-list {
      &-item {
        $item: &;
        @apply py-3 px-4 relative cursor-pointer border-b border-b-slate-200 bg-white md:hover:z-10 md:hover:shadow-[0px_2px_4px_0px_var(--tw-shadow-color)] md:hover:shadow-black/10 md:dark:hover:shadow-slate-100/30 dark:border-b-slate-600 dark:bg-slate-800;

        &.mark-as-read {
          @apply bg-slate-50 dark:bg-slate-900;
        }

        &-sender {
          @apply text-sm font-medium text-slate-700 dark:text-slate-100;

          #{$item}.mark-as-read & {
            @apply text-slate-600 dark:text-slate-300;
          }
        }

        &-subject {
          @apply text-[13px] sm:text-sm font-normal text-slate-600 dark:text-slate-300;
          
          #{$item}.mark-as-read & {
            @apply text-slate-500 dark:text-slate-200;
          }
        }

        &-attachment, 
        &-time {
          @apply text-slate-500 dark:text-slate-400;
        }

        &-time {
          @apply text-xs whitespace-nowrap;
        }

        &-inline-action {
          @apply w-28 h-full absolute top-0 right-0 bottom-0 hidden bg-white md:group-hover/mail-list-item:block dark:bg-slate-800;

          #{$item}.mark-as-read & {
            @apply bg-slate-50 dark:bg-slate-900;
          }
        }

        &-bookmark,
        &-mark,
        &-delete {
          @apply text-slate-500 focus:text-slate-700 dark:text-slate-400 dark:focus:text-slate-300;
        }

        &-bookmark {
          @apply hidden sm:block;

          #{$item}[data-starred="true"] & {
            @apply text-warning-500;
          }
        }
      }
    }

    &-backdrop {
      @apply w-full h-full absolute inset-0 z-10 bg-black bg-opacity-0 transition-colors duration-300 ease-in-out xl:hidden;
      
      &.show {
        @apply bg-opacity-40
      }
    } 
  }

  .tagify{
    @apply items-center gap-2;
  
    & > &__tag  {
      @apply m-0 cursor-pointer flex items-center gap-x-1 px-2 py-1 bg-slate-100 border border-slate-300 rounded-full dark:bg-slate-700 dark:border-slate-600; 
    }
  
    & > &__tag > div {
      @apply p-0 leading-none;
      
      &::before {
        @apply shadow-none;
      }
    }
  
    & > &__tag &__tag-text {
      @apply text-sm text-slate-600 dark:text-slate-300;
    }
  
    & > &__tag &__tag__removeBtn {
      @apply text-lg m-0 text-slate-600 hover:bg-transparent hover:text-danger-500 dark:text-slate-300 dark:hover:text-danger-500;
    }
  
    & > &__tag &__tag__removeBtn:hover + div > span {
      @apply opacity-100;
    }
  
    & > &__tag &__tag__removeBtn:hover + div::before {
      box-shadow: none !important
    }
  
  
    & > &__input {
      @apply m-0 px-0 py-2 text-sm text-slate-700 dark:text-slate-300;
    }
    
  }
}